{% extends "base.html" %}
{% block title %}Новый урок{% endblock %}
{% block content %}
  <h1>Новый урок / отчёт</h1>
  <p class="muted">Ученик: {{ student.username }} · Курс: {{ course.name }}</p>

  <div class="card">
    <form method="post" class="form" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-row">
        <label>{{ form.date.label }}</label>
        {{ form.date }}
        {% if form.date.errors %}<div class="error">{{ form.date.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <label>{{ form.topic.label }}</label>
        {{ form.topic }}
        {% if form.topic.errors %}<div class="error">{{ form.topic.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <label>{{ form.result.label }}</label>
        {{ form.result }}
        {% if form.result.errors %}<div class="error">{{ form.result.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <label>{{ form.report_text.label }}</label>
        {{ form.report_text }}
        {% if form.report_text.errors %}<div class="error">{{ form.report_text.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <label>{{ form.media_url.label }}</label>
        {{ form.media_url }}
        {% if form.media_url.errors %}<div class="error">{{ form.media_url.errors }}</div>{% endif %}
      </div>

      <div class="form-row">
        <label>{{ form.attachment.label }}</label>
        {{ form.attachment }}
        {% if form.attachment.errors %}<div class="error">{{ form.attachment.errors }}</div>{% endif %}
      </div>

      {% if form.non_field_errors %}<div class="error">{{ form.non_field_errors }}</div>{% endif %}

      <button class="btn" type="submit">Создать</button>
      <a class="btn" href="/teacher/students/{{ student.id }}/">Отмена</a>
    </form>
  </div>
{% endblock %}
